<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notes</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="elements.css">
    <link rel="stylesheet" href="overlay.css">
    <link rel="stylesheet" href="note.css">
    <link rel="stylesheet" href="sidebar.css">
    <link rel="stylesheet" href="statusbar.css">
    <link rel="stylesheet" href="edit.css">
    <link rel="stylesheet" href="fonts.css">
    <link rel="icon" href="icon.png">
</head>
<body in-overlay="true">
    <div id="wallpaper">
        <iframe src="bg.html" frameborder="0"></iframe>
    </div>
    <div id="note-wrapper">
        <div id="note-content"></div>
    </div>
    <div id="selection">
    </div>
    <div id="selection-popup" class="h hover-list" onmousedown="event.stopPropagation()"></div>

    <div id="sidebar">
        <input type="text" id="note-title" placeholder="Note Title" oninput="note.name = this.value.trim(); document.title = app.titleName + ' - ' + note.name">
        <div id="tools" class="hover-list v">
            <img src="icons/add-text.svg" id="add-text" class="icon">
            <img src="icons/add-image.svg" id="add-image" class="icon">
            <img src="icons/add-audio.svg" id="add-audio" class="icon">
        </div>
        <div id="statusbar" class="hover-list h">
            <img src="icons/logout.svg" id="close-note" class="icon">
            <img src="icons/save.svg" id="save-note" class="icon">
            <img src="icons/fullscreen.svg" id="fullscreen-button" class="icon" onclick="
                document.fullscreenElement ? document.exitFullscreen() : document.documentElement.requestFullscreen()"
            >
            <img src="icons/settings.svg" onclick="openOverlay('settings')" class="icon">
        </div>
    </div>

    <div id="overlay">
        <div id="overlay-content">

            <div class="overlay" id="add-account" style="width: 20rem;">
                <div class="overlay-title">Add account</div>
                <input type="text" placeholder="backend URL" id="add-account-backend">
                <input type="checkbox" id="add-account-useEncryption" onchange="document.getElementById('add-account-encryptionKey').style.display = this.checked ? 'initial' : 'none'">
                <input type="text" placeholder="encryption key (comma separated numbers)" id="add-account-encryptionKey">
                <input type="text" placeholder="username" id="add-account-username">
                <input type="password" placeholder="password" id="add-account-password">
                <div class="opposite">
                    <button class="secondary" id="add-account-register">create account</button>
                    <button id="add-account-login">login</button>
                </div>
                <div class="overlay-x" onclick="openOverlay('accounts')"></div>
            </div>

            <div class="overlay" id="edit-account" style="width: 20rem;">
                <div class="overlay-title">Edit account</div>
                <input type="text" placeholder="backend URL" id="edit-account-backend">
                <input type="checkbox" id="edit-account-useEncryption" onchange="document.getElementById('edit-account-encryptionKey').style.display = this.checked ? 'initial' : 'none'">
                <input type="text" placeholder="encryption key (comma separated numbers)" id="edit-account-encryptionKey">
                <input type="text" placeholder="username" id="edit-account-username">
                <input type="password" placeholder="password" id="edit-account-password">
                <div class="opposite">
                    <button class="secondary" id="edit-account-remove">remove</button>
                    <button id="edit-account-save">save</button>
                </div>
                <div class="overlay-x" onclick="openOverlay('accounts')"></div>
            </div>

            <div class="overlay" id="accounts">
                <div class="overlay-title">Accounts</div>
                <div class="table-container">
                    <table id="accounts-list"></table>
                </div>
                <button id="add-account-button">
                    Add Account
                </button>
            </div>

            <div class="overlay" id="listNotes">
                <div class="overlay-title">Notes</div>
                <div class="table-container">
                    <table id="notes-list"></table>
                </div>
                <button id="create-note" onclick="createNewNote('new note')">Create New Note</button>
                <div class="overlay-x" onclick="openOverlay('accounts')"></div>
            </div>

            <div class="overlay" id="add-audio">
                <div class="overlay-title">Add Audio</div>
                <div>mouse in bubble to record <br> mouse out to stop</div>
                <div id="audio-bubble">bubble</div>
                <div class="opposite">
                    <button onclick="openOverlay()">cancel</button>
                    <button onclick="audio.startRecording()">start</button>
                    <button onclick="audio.stopRecording()">stop</button>
                </div>
                <div class="overlay-x"></div>
            </div>

            <div class="overlay" id="settings">
                <div class="overlay-title">Settings</div>
                <div class="settings-item-group">
                    <div class="settings-item">
                        <label for="settings-moveWithCtrl">Move with Ctrl:</label>
                        <input type="range" min="1" max="3.5" step="0.5" id="settings-moveWithCtrl" class="settings-slider">
                    </div>
                    <div class="settings-item">
                        <label for="settings-moveWithFinger">Move with Finger:</label>
                        <input type="range" min="1" max="3.5" step="0.5" id="settings-moveWithFinger" class="settings-slider">
                    </div>
                    <div class="settings-item">
                        <label for="settings-zoom">Zoom:</label>
                        <input type="range" min="0.005" max="0.025" step="0.002" id="settings-zoom" class="settings-slider">
                    </div>
                </div>    
                <div class="settings-item-group">
                    <div class="settings-item">
                        <label for="settings-clr">Primary Color:</label>
                        <input type="color" id="settings-clr" class="settings-color">
                    </div>
                    <div class="settings-item">
                        <label for="settings-clr-secondary">Secondary Color:</label>
                        <input type="color" id="settings-clr-secondary" class="settings-color">
                    </div>
                </div>    
                <div class="settings-item-group">
                    <div class="settings-item">
                        <label for="betterBgAudio">Better Background Audio when recording:</label>
                        <input type="checkbox" id="betterBgAudio" onchange="settings.audioConstraints.default = this.checked ? settings.audioConstraints.betterBgAudio : settings.audioConstraints.normal">
                    </div>

                </div>    
                <div class="overlay-x"></div>
            </div>    

        </div>
    </div>
    <script src="scripts.js"></script>
    <script src="accounts.js"></script>
    <script src="data.js"></script>
    <script src="edit.js"></script>
    <script src="settings.js"></script>
    <script src="audio.js"></script>
    <script src="api.js"></script>
    <script src="render/cube.js"></script>
    <script src="app.js"></script>
    <script src="secure.js"></script>
</body>
</html>