
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animated SVG Blobs (Corrected)</title>
<style>
  body {
    background-color: #000000;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    overflow: hidden;
  }
  .blobs {
    width: 100%;
    height: 100%;
  }
  path {
    mix-blend-mode: difference;
  }
</style>
</head>
<body>

<svg class="blobs">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#08BDBA;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3372F5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F5517F;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFC700;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFC700;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F17B3F;stop-opacity:1" />
    </linearGradient>
  </defs>

  <path d="M53.1,-60.1C68.9,-46.8,81.8,-29,83.5,-10.1C85.2,8.8,75.7,28.8,62.8,42.4C49.9,56,33.5,63.2,16.5,68.9C-0.5,74.6,-18.1,78.8,-35.3,72.7C-52.5,66.6,-69.3,50.1,-76.3,31.4C-83.3,12.7,-80.5,-8.2,-71,-25.1C-61.6,-42,-45.5,-54.9,-29.4,-65.2C-13.3,-75.5,-6.6,-83.2,3.8,-84.9C14.2,-86.6,28.4,-82.3,53.1,-60.1Z"></path>
  <path d="M49.8,-56.3C62.1,-44.8,68,-28.5,69.4,-12.3C70.8,3.9,67.7,19.9,59.3,34.4C50.9,48.9,37.2,61.8,20.8,67.6C4.4,73.4,-14.7,72,-31.1,65.1C-47.5,58.2,-61.2,45.8,-69.8,30.3C-78.4,14.8,-81.9,-3.7,-77.8,-20.2C-73.7,-36.7,-62,-51.2,-47.3,-61.8C-32.6,-72.4,-16.3,-79.1,-0.2,-78.8C15.9,-78.5,31.8,-71.7,49.8,-56.3Z"></path>
  <path d="M45.5,-73.9C59.2,-64.5,70.8,-49.8,75.4,-33.9C80,-18,77.6,-0.8,71.2,14.7C64.8,30.2,54.4,44,41.9,55.3C29.4,66.6,14.7,75.4,-1.8,77.3C-18.3,79.2,-36.7,74.2,-50.2,63.9C-63.8,53.6,-72.6,38,-76.4,21C-80.2,4,-79.1,-14.4,-71.4,-29.7C-63.8,-44.9,-49.6,-57,-34.5,-65.7C-19.4,-74.4,-9.7,-79.8,2.1,-81.7C13.9,-83.7,27.8,-83.2,45.5,-73.9Z"></path>
  <path d="M56.3,-21.5C62,-0.7,48.2,23.3,29,36.4C9.9,49.4,-14.6,51.6,-33.1,39.5C-51.6,27.5,-64.1,1.3,-57.6,-20.6C-51.1,-42.5,-25.6,-60,-0.1,-60C25.3,-59.9,50.5,-42.3,56.3,-21.5Z" transform="translate(100 100)" />
  <path d="M52.5,-22.3C54.5,-10.8,33.4,3.1,16.5,13.1C-0.5,23.1,-13.2,29.4,-25.3,23.3C-37.4,17.2,-48.9,-1.2,-44.6,-15.9C-40.3,-30.6,-20.1,-41.7,2.5,-42.5C25.2,-43.3,50.4,-33.9,52.5,-22.3Z" transform="translate(100 100)" />
  <path d="M33.8,-23.9C48,-9.2,66.6,5.1,66.8,19.7C67,34.2,48.9,49,30.9,53.6C12.9,58.2,-4.9,52.7,-23.7,45.2C-42.4,37.7,-62.2,28.2,-70.6,10.6C-79,-7,-76.1,-32.7,-62.4,-47.2C-48.8,-61.8,-24.4,-65.2,-7.3,-59.4C9.8,-53.6,19.6,-38.5,33.8,-23.9Z" transform="translate(100 100)" />
  <path d="M28.2,-45.8C37.5,-43.5,46.5,-37.8,53.9,-29.6C61.3,-21.4,67.1,-10.7,67.3,0.1C67.4,10.9,62.1,21.8,54.1,29C46.1,36.2,35.5,39.6,26,42.5C16.6,45.3,8.3,47.6,-3.6,53.8C-15.4,60,-30.8,70.1,-41.7,68C-52.5,65.9,-58.8,51.7,-60.8,38.4C-62.9,25,-60.7,12.5,-59.7,0.6C-58.7,-11.4,-58.9,-22.7,-52.5,-28.6C-46.2,-34.5,-33.3,-35,-23.5,-36.9C-13.6,-38.9,-6.8,-42.3,1.3,-44.6C9.5,-46.9,18.9,-48,28.2,-45.8Z" transform="translate(100 100)" />
  <path d="M38.1,-41.2C49.6,-35.8,59.3,-24,60,-11.8C60.7,0.4,52.5,13,45.7,27.9C38.9,42.8,33.5,60.1,21.6,68.4C9.7,76.7,-8.8,75.9,-19.3,66.3C-29.7,56.7,-32.2,38.3,-42.6,23.2C-53.1,8,-71.6,-3.9,-74.1,-17.1C-76.6,-30.3,-63,-44.6,-48,-49.4C-33,-54.1,-16.5,-49.3,-1.6,-47.4C13.3,-45.5,26.6,-46.5,38.1,-41.2Z" transform="translate(100 100)" />
  <path d="M52,-62.5C67.4,-49.2,79.7,-32.7,84.9,-13.4C90.1,5.8,88.3,27.9,75.7,38.1C63.1,48.2,39.7,46.5,19.9,52.9C0.1,59.4,-16,73.9,-25.5,70.3C-34.9,66.7,-37.6,45,-46.8,27.7C-56.1,10.3,-72,-2.6,-69.8,-11.9C-67.7,-21.3,-47.6,-27.1,-33,-40.5C-18.4,-54,-9.2,-75.1,4.6,-80.6C18.4,-86.1,36.7,-75.8,52,-62.5Z" transform="translate(100 100)" />
  <path d="M5.6,-5.1C7.6,0.1,9.6,3.5,8.7,7.6C7.8,11.6,3.9,16.5,-8.8,21.6C-21.5,26.7,-42.9,31.9,-54.8,21.5C-66.8,11,-69.1,-15.1,-58.4,-25.5C-47.7,-35.8,-23.8,-30.4,-11,-24.1C1.8,-17.7,3.7,-10.4,5.6,-5.1Z" transform="translate(100 100)" />


</svg>

<script>
  document.querySelector('svg').setAttribute('viewBox', `0 0 ${window.innerWidth} ${window.innerHeight}`);
    window.addEventListener('resize', function() {
        document.querySelector('svg').setAttribute('viewBox', `0 0 ${window.innerWidth} ${window.innerHeight}`);
    });
    document.querySelectorAll('path').forEach(function(path) {
        path.setAttribute('transform', `translate(${Math.random() * (window.innerWidth - 200) + 100} ${Math.random() * (window.innerHeight - 200) + 100})`);
        path.setAttribute('fill', `hsla(${Math.random() * 360}, 100%, 50%, 1)`);
    });

  function newRotation() {
    return (Math.random() - 0.5) 
  }

  function animateBlobs(svgElement) {
    const blobs = svgElement.querySelectorAll('path');
    const blobData = [];

    // Initialize blob data
    blobs.forEach((blob) => {
      const transform = blob.getAttribute('transform');
      let x = 0, y = 0;

      // This part reads the starting position from the 'transform' attribute.
      // This is why it's important to give each blob a transform in the HTML.
      if (transform) {
        const match = /translate\(([^ ,]+)[ ,]+([^)]+)\)/.exec(transform);
        if (match) {
          x = parseFloat(match[1]);
          y = parseFloat(match[2]);
        }
      }

      blobData.push({
        element: blob,
        originalPath: blob.getAttribute('d'),
        x: x,
        y: y,
        r: Math.random() * 360, // Rotation
        vx: (Math.random() - 0.5), // Velocity x
        vy: (Math.random() - 0.5), // Velocity y
        vr: newRotation(), // velocity rotation
        morphSpeed: 0.002 + Math.random() * 0.001,
        morphOffset: Math.random() * 8000
      });
    });

    function update() {
      const viewBox = svgElement.viewBox.baseVal;

      blobData.forEach(blob => {
        const bbox = blob.element.getBBox();
        const visualLeft = blob.x + bbox.x;
        const visualRight = blob.x + bbox.x + bbox.width;
        const visualTop = blob.y + bbox.y;
        const visualBottom = blob.y + bbox.y + bbox.height;

        if (visualLeft <= 0 || visualRight >= viewBox.width) {
          blob.vx *= -1;
          blob.vr = newRotation();
        }
        if (visualTop <= 0 || visualBottom >= viewBox.height) {
          blob.vy *= -1;
          blob.vr = newRotation();
        }
       
        blob.x += blob.vx;
        blob.y += blob.vy;

        blob.r += blob.vr;

        const time = performance.now() * blob.morphSpeed + blob.morphOffset;
        const pathPoints = blob.originalPath.split(/[ ,MLCZ]/).filter(n => n !== '');
        let newPath = 'M';
        let pointIndex = 0;

        for (let i = 0; i < pathPoints.length / 2; i++) {
            if (pointIndex + 1 < pathPoints.length) {
                const originalX = parseFloat(pathPoints[pointIndex]);
                const originalY = parseFloat(pathPoints[pointIndex + 1]);

                const noiseIndex = (i === pathPoints.length / 2 - 1) ? 0 : i;
                const noiseX = (Math.sin(time + noiseIndex * 0.5) + Math.cos(time - noiseIndex * 0.3)) * 0.5;
                const noiseY = (Math.cos(time + noiseIndex * 0.5) - Math.sin(time - noiseIndex * 0.3)) * 0.5;
                const morphAmount = 5;

                newPath += `${originalX + noiseX * morphAmount},${originalY + noiseY * morphAmount} `;

                if (i === 0) newPath += 'C';
                pointIndex += 2;
            }
        }
        newPath += 'Z';

        blob.element.setAttribute('d', newPath);
        blob.element.setAttribute('transform', `translate(${blob.x} ${blob.y}), rotate(${blob.r})`);
      });

      requestAnimationFrame(update);
    }

    update();
  }

  // Run the animation
  const svg = document.querySelector('.blobs');
  animateBlobs(svg);
</script>

</body>
</html>